# 파티션 함수 (Partition Function)
## 1. 추가 (ADD PARTITION)
```sql
ALTER TABLE 테이블명
ADD PARTITION 파티션명
VALUES LESS THAN (값);
```
- `VALUES LESS THAN`은 범위 파티션에서 사용하며, 이 값 미만 데이터를 해당 파티션에 저장한다.
```sql
ALTER TABLE sales
ADD PARTITION p2023q3
VALUES LESS THAN (TO_DATE('2023-10-01', 'YYYY-MM-DD'));
```

### 예제
```sql
SELECT partition_name, high_value
FROM user_tab_partitions
WHERE table_name = 'SALES';
```
```yaml
PARTITION_NAME | HIGH_VALUE
---------------|--------------------------
P2023Q1        | TO_DATE('2023-01-01', 'YYYY-MM-DD')
P2023Q2        | TO_DATE('2023-07-01', 'YYYY-MM-DD')
P2023Q3        | TO_DATE('2023-10-01', 'YYYY-MM-DD')
```

<br>

## 2. 삭제 (DROP PARTITION)
```sql
ALTER TABLE 테이블명
DROP PARTITION 파티션명;
```
```sql
ALTER TABLE sales DROP PARTITION p2023q1;
```

### 예제
```sql
SELECT partition_name
FROM user_tab_partitions
WHERE table_name = 'SALES';
```
```yaml
PARTITION_NAME
---------------
P2023Q2
P2023Q3
```

<br>

## 3. 분할 (SPLIT PARTITION)
```sql
ALTER TABLE 테이블명
SPLIT PARTITION 기존파티션명
AT (값)
INTO (PARTITION 새파티션1, PARTITION 새파티션2);
```
- 기존 파티션을 두 개로 나누어 관리한다.
- `AT` 기준으로 데이터를 분리한다.
```sql
ALTER TABLE sales SPLIT PARTITION p2023q2
AT (TO_DATE('2023-05-01', 'YYYY-MM-DD'))
INTO (PARTITION p2023q2a, PARTITION p2023q2b);
```

### 예제
```sql
SELECT partition_name, high_value
FROM user_tab_partitions
WHERE table_name = 'SALES';
```
```yaml
PARTITION_NAME | HIGH_VALUE
---------------|--------------------------
P2023Q2A       | TO_DATE('2023-05-01', 'YYYY-MM-DD')
P2023Q2B       | TO_DATE('2023-07-01', 'YYYY-MM-DD')
```

<br>

## 4. 병합 (MERGE PARTITION)
```sql
ALTER TABLE 테이블명
MERGE PARTITIONS 파티션1, 파티션2
INTO PARTITION 새파티션명;
```
```sql
ALTER TABLE sales MERGE PARTITIONS p2023q2a, p2023q2b
INTO PARTITION p2023q2;
```

### 예제
```sql
SELECT partition_name
FROM user_tab_partitions
WHERE table_name = 'SALES';
```
```yaml
PARTITION_NAME
---------------
P2023Q2
P2023Q3
```